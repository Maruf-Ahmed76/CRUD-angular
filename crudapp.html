

<div ng-controller="crudCtrl as ctrl">
<div class="container" >
    <hr>

    <button type="button" class="btn btn-primary btn-lg pull-right" data-toggle="modal" data-target="#userAdd" ng-click="ctrl.curdAlert=''">Add New</button>

    <h1>All Users</h1>

    <div class="clearfix"></div>
    
    <hr>

    <div class="alert  alert-dismissible fade in" ng-class="ctrl.alertType"  ng-if="ctrl.curdAlert" >
        <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
        <strong >{{ ctrl.curdAlert }}</strong> 
    </div>
        <input class="form-control" id="tebleSearch" type="text" ng-model="filterVal" placeholder="Search User">
    <br>
    <table class="table table-striped ">

    <thead >
        <tr>
            <th>Index</th>
            <th>User Name</th>
            <th>Email</th>
            <th>Edit</th>
            <th>Delete</th>
        </tr>
     </thead>

        <tbody id="curdTable" >
        <tr ng-repeat="user in ctrl.users | filter: filterVal">
            <th>{{ $index+1 }}</th>
            <td>{{ user.name }}</td>
            <td>{{ user.email }}</td>
            <td><button type="button" class="btn btn-info" id="editUSer" data-toggle="modal" ng-click="ctrl.editUser( user,this )" data-target="#editUser">Edit</button></td>
            <td><button type="button" class="btn btn-danger" data-target="#delUser" ng-click=" ctrl.editUser( user )"  data-toggle="modal">Delete</button></td>
         </tr>
     </tbody>

 </table>

  


</div>

<div class="allModel">

<!-- Modal1 for add user -->
<div class="modal fade" id="userAdd" role="dialog">
        <div class="modal-dialog">
        
          <!-- Modal1 content-->
    <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h3 class="modal-title">Add User</h3>
        </div>
    <div class="modal-body">
        <form action="/action_page.php">

            <div class="form-group">
                <label for="User Name">User Name:</label>
                <input type="text" ng-model="ctrl.addUser.name" class="form-control" >
             </div>
            <div class="form-group">
                <label for="email">Email address:</label>
                <input type="text"  ng-model="ctrl.addUser.email"  class="form-control" >
            </div>
        </form>
    </div>

        <div class="modal-footer">
            <button type="button" class="btn btn-primary" ng-click="ctrl.addNewUser()" data-dismiss="modal">Add</button>
            <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        </div>
        
    </div>
</div>
</div>
<!-- user add model  end--->



<!-- Modal1 for edit user -->
<div class="modal fade" id="editUser" role="dialog">
        <div class="modal-dialog">
            
            <!-- Modal1 content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h3 class="modal-title">Edit User</h3>
            </div>
        <div class="modal-body">
            <form action="/action_page.php">

                <div class="form-group">
                    <label for="User Name">User Name:</label>
                    <input type="text" class="form-control" ng-model="ctrl.checkedUser.name">
                </div>
                <div class="form-group">
                    <label for="email">Email address:</label>
                    <input type="text" class="form-control" ng-model="ctrl.checkedUser.email" >
                </div>
            </form>
        </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="ctrl.setEdit()">Save</button>
                <button type="button" class="btn btn-danger" data-dismiss="modal" ng-click="ctrl.editCancel()">Cancel</button>
            </div>
        </div>
    </div>
</div>
<!-- user edit model  end--->

<!-- Modal1 for delete user -->

<div class="modal fade" id="delUser" role="dialog">
        <div class="modal-dialog">
            
            <!-- Modal1 content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h3 class="modal-title">Are you sure?</h3>
            </div>
        <div class="modal-body">
          <h3>{{ ctrl.checkedUser.email }}</h3>
        </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="ctrl.deleteUser()">Yes</button>
                <button type="button" class="btn btn-danger" data-dismiss="modal">No</button>
            </div>
        </div>
    </div>
</div>
<!-- user delete model  end--->

    </div>

<div>

















</div>


